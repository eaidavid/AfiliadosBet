‚úÖ PROMPT COMPLETO PARA GERA√á√ÉO DA P√ÅGINA DE GERENCIAMENTO DE CASAS DE APOSTAS
Objetivo: Criar uma p√°gina completa, moderna e funcional para gerenciar casas de apostas no sistema administrativo.

üí° Contexto:
As casas de apostas s√£o armazenadas na tabela betting_houses.

Cada casa pode ter diferentes tipos de comiss√£o: CPA, RevShare ou CPA + RevShare (h√≠brido).

J√° existe um painel admin no sistema, mas a antiga p√°gina de administra√ß√£o foi deslocada para outra rota, e o formul√°rio de cria√ß√£o/edit est√° incompleto.

Os cards do dashboard precisam de ajustes visuais e corre√ß√µes nos dados.

‚úÖ Requisitos da p√°gina:
Rota nova:

Mova a p√°gina de gerenciamento de casas de apostas para uma nova rota:
/admin/betting-houses

Listagem das casas:

Mostre todas as casas cadastradas com:

Nome, logo, status (ativa ou n√£o)

Tipo de comiss√£o

Se tem postback configurado

Quantidade de afiliados ativos

A√ß√µes dispon√≠veis:

Editar

Ativar/Desativar

Excluir

Copiar link de afiliado

Ver postbacks configurados

Cria√ß√£o e edi√ß√£o (formul√°rio completo):

Utilize um formul√°rio com os seguintes campos:

Nome

Descri√ß√£o

URL base

Par√¢metro prim√°rio (ex: subid)

Par√¢metros adicionais (chave: valor)

Tipo de comiss√£o: CPA, RevShare, CPA + RevShare

Valor CPA (input condicional)

Percentual RevShare (input condicional)

Dep√≥sito m√≠nimo para CPA

M√©todos de pagamento aceitos

Token de seguran√ßa para postback

Identificador √∫nico da casa

URL do logo

Ativa? (checkbox)

Quais postbacks est√£o habilitados: (click, registro, dep√≥sito, lucro)

Mapeamento de par√¢metros (JSON edit√°vel)

A√ß√µes funcionais:

Todos os bot√µes devem ser funcionais com seus respectivos handlers:

Editar (carrega os dados no formul√°rio)

Excluir (com confirma√ß√£o)

Salvar (create/update)

Copiar link (clipboard)

Toggle ativar/desativar

Visualizar configura√ß√µes de postback (modal)

Melhoria visual dos cards no dashboard:

Corrigir harmonia do layout dos cards:

Alinhamento

Cores mais suaves e coerentes

Textos reescritos com padroniza√ß√£o:

Casas Ativas: 6 de 6 casas

Com CPA: 2 com comiss√£o CPA

Com Postback: 6 casas com postback

Total Afilia√ß√µes: X links ativos (corrigir c√°lculo)

Corrigir total de afilia√ß√µes:

A contagem de links ativos est√° errada (est√° 0).

Verifique na tabela de afilia√ß√µes (provavelmente affiliations ou similar) o total de registros ativos por casa.

Corrija a query ou l√≥gica que alimenta esse dado.

üîç EXTRA: Verifica√ß√£o dos campos no banco de dados
Pe√ßa ao sistema para verificar e adicionar todos os campos essenciais na tabela betting_houses:

Campo	Tipo sugerido	Descri√ß√£o
id	UUID ou Serial	Identificador √∫nico
name	VARCHAR	Nome da casa
description	TEXT	Descri√ß√£o da casa
base_url	TEXT	URL base usada nos links promocionais
primary_param	VARCHAR	Par√¢metro prim√°rio da URL (ex: subid, ref, s1)
additional_params	JSON ou TEXT	Par√¢metros adicionais configur√°veis
commission_type	ENUM	cpa, revshare, cpa+revshare
cpa_value	NUMERIC	Valor fixo por CPA
revshare_value	NUMERIC	Porcentagem de RevShare
min_deposit	NUMERIC	Valor m√≠nimo para ativar CPA (se aplic√°vel)
payment_methods	TEXT ou JSON	Meios de pagamento aceitos
security_token	TEXT	Token usado nos postbacks
identifier	VARCHAR (UNIQUE)	Usado para identificar nas rotas de postback
logo_url	TEXT	URL do logo da casa
is_active	BOOLEAN	Casa vis√≠vel no sistema?
enabled_postbacks	JSON[] ou TEXT	Tipos de postbacks ativados (click, registro, dep√≥sito, lucro)
parameter_mapping	JSON	Mapeia par√¢metros externos para internos
created_at	TIMESTAMP	Data de cria√ß√£o
updated_at	TIMESTAMP	Data de atualiza√ß√£o

üß† Caso algum campo esteja ausente, adicione via migration com Drizzle ORM.

