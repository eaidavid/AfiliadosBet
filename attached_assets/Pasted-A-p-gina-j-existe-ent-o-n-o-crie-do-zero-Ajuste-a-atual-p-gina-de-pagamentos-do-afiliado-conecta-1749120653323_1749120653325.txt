A pÃ¡gina jÃ¡ existe, entÃ£o nÃ£o crie do zero. Ajuste a atual pÃ¡gina de pagamentos do afiliado, conectando os elementos visuais com os dados reais do banco.

Transforme a pÃ¡gina simples em um painel financeiro completo e motivador, com foco em transparÃªncia, metas e histÃ³rico de ganhos.

ğŸ”— Tabela-alvo: payments
Use a coluna user_id da sessÃ£o logada para filtrar os pagamentos do afiliado.

ğŸ§± Estrutura recomendada da nova pÃ¡gina
âœ… 1. Resumo Financeiro (Cards no topo)
Mostre os saldos e indicadores de forma clara e dinÃ¢mica:

Card	LÃ³gica SQL	ObservaÃ§Ãµes
ğŸ’° Saldo disponÃ­vel para saque	SUM(commission) - SUM(paid) com status pendente/aprovado	Total que ele pode sacar
ğŸ“¥ Total jÃ¡ pago	SELECT SUM(amount) FROM payments WHERE user_id = ? AND status = 'paid'	Valor total transferido
ğŸ•’ Pagamentos pendentes	SELECT SUM(amount) FROM payments WHERE user_id = ? AND status = 'pending'	RequisiÃ§Ãµes aguardando
ğŸ“ˆ Ganhos no mÃªs atual	Soma de commission nas conversÃµes do mÃªs atual (type IN ('deposit', 'profit'))	Use filtro por mÃªs

SugestÃ£o de visual: cards coloridos com Ã­cone, valor e badge de variaÃ§Ã£o semanal/mensal.

Adicione um pequeno grÃ¡fico de barra ou linha com evoluÃ§Ã£o por semana, se possÃ­vel.

âœ… 2. Tabela de HistÃ³rico de Pagamentos
Tabela responsiva, com colunas:

Data do Pagamento	Valor	MÃ©todo	Status	PIX / Dados	CÃ³digo TransaÃ§Ã£o
paid_at	amount	method	status (badge)	pix_key ou info bancÃ¡ria	transaction_id

Status com cores: pendente (amarelo), processando (azul), pago (verde), cancelado (vermelho)

Adicione Ã­cone de copiar para pix_key ou transaction_id

Adicione um botÃ£o â€œver maisâ€ que exibe o JSON da transaÃ§Ã£o (se disponÃ­vel)

âœ… 3. SolicitaÃ§Ã£o de Pagamento
Ãrea abaixo da tabela com um botÃ£o e modal:

BotÃ£o: ğŸ’¸ Solicitar Saque
Verifica se o saldo Ã© suficiente (saldo >= mÃ­nimo)

Abre um modal com:

Valor a solicitar (prÃ©-preenchido com saldo)

MÃ©todo de pagamento (pix, transferÃªncia)

Chave Pix

BotÃ£o "Confirmar SolicitaÃ§Ã£o"

ğŸ” A solicitaÃ§Ã£o cria um novo registro em payments com status = 'pending'.

âœ… 4. Alertas e InformaÃ§Ãµes
Bloco inferior com:

Ãšltimo pagamento recebido (paid_at)

MÃ©dia de dias entre pagamentos

Regras de saque: mÃ­nimo, dias Ãºteis, prazos

ğŸ’„ Design/UX (sugestÃµes visuais)
Cards com Ã­cones: ğŸ’° ğŸ“¥ ğŸ“ˆ ğŸ“Š

Badge por status (.bg-green-100, .bg-yellow-100, etc)

Loading esquelÃ©tico nos dados

AlternÃ¢ncia entre modo escuro/claro

Tooltip explicando cada mÃ©trica

PaginaÃ§Ã£o na tabela

ğŸ”„ Dados DinÃ¢micos
Use os seguintes dados da base:

payments: valores, status, datas, mÃ©todo

conversions: soma de comissÃµes (por perÃ­odo)

users: chave pix ou preferÃªncias, se vocÃª decidir armazenar lÃ¡

Use tambÃ©m dados de clicks, registrations e conversions para enriquecer o painel com contexto financeiro.